<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>javascript 对象化的思考</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/static/css/leo.css">
        <link rel="stylesheet" href="/static/css/prettify.css">

    </head>
    <body>
      <div class="leo-head">
        <ul class="leo-nav">
  
    <li><a class="leo-nav-item" href="/">首页</a></li>
  
    <li><a class="leo-nav-item" href="/category.html">归档</a></li>
  
    <li><a class="leo-nav-item" href="/andy.html">豆豆</a></li>
  
    <li><a class="leo-nav-item last" href="/contant.html">联系我</a></li>
  
</ul>

      </div>
          </div>
      <div class="container">
        <div class="row">
          <div class="col-md-8"><div class="leo-category"><h1 class="leo-articel-title">javascript 对象化的思考</h1>
<div class="post">
<h3>javascript 面向对象的编程</h3>

<p>学习javascript 要学习它的精髓， 面向对象的javascript！  </p>

<p>对象化javascript可以使你的js更清晰、专业！ 下来看一段代码<br>
    var Person = {
        name : &#39;&#39;,
        sex : &#39;&#39;
    };<br>
    var personA = {};//生成一个空对象
    personA.name = &#39;jutle01&#39;;
    personA.sex = &#39;男&#39;;
    var personB = {};
    personB.name = &#39;jutleo02&#39;;
    personB.sex = &#39;女&#39;;
  OK, 这就是最简单的对象， 我们发现有几个缺点：<br>
1. 写起来很麻烦，如果多个对象就很烦人了；<br>
2. 多个对象没有任何联系；    </p>

<p>我们可以改进一下以上代码：
    function Person(name, sex) {
        this.name = name;
        this.sex = sex;
    }
    var personA = new Person(&#39;jutleo01&#39;, &#39;男&#39;);<br>
    var personB = new Person(&#39;jutleo02&#39;, &#39;女&#39;);<br>
  OK， 看起来我们少写了几行代码，而且有了Person构造函数可以初始化一些变量； 而且personA和personB之间貌似是有联系的(同用一个构造函数)，
  如果你还不知道javascript构造函数的概念，你可以自己google一下了；<br>
  来验证一下：<br>
    alert(personA.constructor === Person) // true
    alert(personB.constructor === Person) // true
  如果你还不死心，可是使用instanceof检测一下<br>
    alert(person instanceof Person) //true<br>
    alert(person instanceof Person) //true<br>
到目前为止，一切都happy， 但是constructor function有一个问题， 如果我们一直往构造函数里添加属性、方法，是不是会有问题？看看下面的代码</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">function Person(name, sex) {
    this.name = name;
    this.sex = sex;
    this.email = &#39;jutleo@gmail.com&#39;;
    this.company = &#39;NP&#39;;
    this.doSomeThing(){
        // to do some thing
    };
}
var personA = new Person(&#39;jutleo01&#39;, &#39;男&#39;);  
var personB = new Person(&#39;jutleo02&#39;, &#39;女&#39;);   
</code></pre></div>
<p>貌似也没啥问题，我们来仔细分析一下， <code>new</code> 在javascript里会产生一个js对象，每个js对象都有一个指针(对象引用)，都有自己的内存地址；
相当于<code>personA</code>和<code>personB</code>会在内存里都有一个各自的对象，每个对象都有<code>name</code>、<code>sex</code>、<code>email</code>、<code>company</code>、 <code>doSomeThing</code>,
而我们最初的想法是想让<code>Person</code>类的<code>email</code>、<code>company</code>、<code>doSomeThing</code>是一样的，只有<code>name</code>、<code>sex</code>大家伙是共享的；问题来了，对于我new出来的对象能不能只保留name、sex的个性化呢？
而其它属性、方法大家伙共享呢？这不是白白的消耗内存么？效率也不高！  </p>

<p>再来改进一下： </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">function Person(name, sex) {
    this.name = name;
    this.sex = sex;
}

Person.prototype.email = &#39;jutleo@gmail.com&#39;;
Person.prototype.company = &#39;NP&#39;;
Person.prototype.doSomeThing = function() {
    // to do some thing
};
</code></pre></div>
<p><code>prototype</code>是javascript的一个关键字，每一个<code>constructor function</code> 都有个 <code>prototype</code>属性，这个属性指向了另外一个对象，指向的这个对象的所有属性和方法
都会被这个构造函数的实例所继承。现在清楚了吧， 这样<code>Person</code>类的所有实例都会继承子<code>prototype</code>所指向的对象，这样大家伙都共享了对象的所有方法。  </p>

<p>再来看上面的代码，<code>personA</code>对象和<code>personB</code>对象精简了不少吧！ 但是！ 全是public的，如果 private、还想节省内存该如何呢？  </p>

<p><img src="/static/img/20130419001.jpg" alt="既要节省内存，又要对象化"></p>

</div>
<p class="leo-protect">
  作者：
  <a href="/">leo</a>
  　发布时间：2013年04月19日
  <br>
  原文：
  <a href="/2013/04/19/javascript-object-oriented-thinking-01">javascript 对象化的思考</a>
  <br>
  标签： javascript
  <br/>
  版权所有，转载时必须以链接形式注明作者和原出处并保留本声明。
  <br>
</p>
<script type="text/javascript" src="/static/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="/static/js/prettify.js"></script>
<script type="text/javascript">
  $(function(){
    $("pre").addClass("prettyprint linenums");
    prettyPrint();
  });
</script>

<!-- Duoshuo Comment BEGIN -->
  <div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"jutleo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- Duoshuo Comment END --></div></div>
          <div class="col-md-4">
            <div class="list-group">
              <a href="#" class="list-group-item list-group-item-success disabled">分类</a>
              
              <a href="/db/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">1</span>db </a>
              
              <a href="/server/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">2</span>server </a>
              
              <a href="/office/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">1</span>office </a>
              
              <a href="/javascript/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">6</span>javascript </a>
              
              <a href="/ireport/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">15</span>ireport </a>
              
              <a href="/blog/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">1</span>blog </a>
              
              <a href="/orm/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">2</span>orm </a>
              
              <a href="/technology/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">1</span>technology </a>
              
              <a href="/life/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">3</span>life </a>
              
              <a href="/spring/"  class="list-group-item" title="查看所有此分类文章列表"><span class="badge">5</span>spring </a>
              
            </div>
            <div class="leo-article-category">
              <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2975520964&verifier=eac976c7&dpc=1"></iframe>
            </div>

          </div>
      </div>

        </div>
        
      <div class="leo-foot">
        <p>
 Copyright &copy; 2010 - 2014 &nbsp;jutleo@gmail.com. 保留所有权利。
</p>
      </div>
    </body>
</html>
